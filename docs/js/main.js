console.log(">> Ready :)");const u=document.querySelector(".js_movieList");document.querySelector(".js_searchBox");const v=document.querySelector(".js_searchInput"),h=document.querySelector(".js_searchBtn"),r=document.querySelector(".js_favouriteMovies");document.querySelector(".js_resetBtn");let c=[],s=[];function a(e){var t,l,o,n;const i=`<li  class="listItem js_listitem" data-mal_hook="${e.mal_id}">
         <figure> <img
            src="${((l=(t=e.images)==null?void 0:t.jpg)==null?void 0:l.image_url)===null?"https://placehold.co/210x300/ffffff/555555?text=TV":(n=(o=e.images)==null?void 0:o.jpg)==null?void 0:n.image_url}"
            alt="${e.title}"
          />
          <figcaption>${e.title}</figcaption> </figure>
        </li>`;return console.log("The conditional for images null works"),i}function f(){let e="";for(const t of c)e+=a(t);u.innerHTML=e;const i=document.querySelectorAll(".js_listitem");for(const t of i)t.addEventListener("click",p)}function g(){r.innerHTML="";for(const e of s)html+=a(e),r.innerHTML=html}const M=e=>{e.preventDefault();const i=v.value.trim();u.innerHTML="<li>Loading...</li>",fetch(`https://api.jikan.moe/v4/anime?q=${encodeURIComponent(i)}`).then(t=>t.json()).then(t=>{c=t.data,f()})};h.addEventListener("click",M);function p(e){const i=e.currentTarget;i.classList.toggle("favourite");const t=parseInt(i.dataset.mal_hook);console.log("MAL ID:",t);const l=s.findIndex(o=>o.mal_id===t);if(l===-1){console.log("Your selected movie is missing from favourites");const o=c.find(d=>d.mal_id===t);s.push(o),localStorage.setItem("favouriteMovies",JSON.stringify(s));const n=a(o);r.innerHTML+=n}else{console.log("Your movie is found within your favourite movies");const[o]=s.splice(l,1),n=r.querySelector(`[data-mal_hook="${o.mal_id}"]`);n!==null&&n.remove()}}fetch("https://api.jikan.moe/v4/anime?q=naruto").then(e=>e.json()).then(e=>{c=e.data,f()});const m=JSON.parse(localStorage.getItem("favouriteMovies"));m!==null&&(s=m,g());
//# sourceMappingURL=main.js.map
