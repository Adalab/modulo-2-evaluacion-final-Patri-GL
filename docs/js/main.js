const u=document.querySelector(".js_movieList");document.querySelector(".js_searchBox");const v=document.querySelector(".js_searchInput"),h=document.querySelector(".js_searchBtn"),r=document.querySelector(".js_favouriteMovies"),g=document.querySelector(".js_resetBtn");let c=[],l=[];function a(e){var t,s,n,i;const o=`<li  class="listItem js_listitem" data-mal_hook="${e.mal_id}">
         <figure> <img
            src="${((s=(t=e.images)==null?void 0:t.jpg)==null?void 0:s.image_url)===null?"https://placehold.co/210x300/ffffff/555555?text=TV":(i=(n=e.images)==null?void 0:n.jpg)==null?void 0:i.image_url}"
            alt="${e.title}"
          />
          <figcaption>${e.title}</figcaption> </figure>
        </li>`;return console.log("The conditional for images null works"),o}function f(){let e="";for(const t of c)e+=a(t);u.innerHTML=e;const o=document.querySelectorAll(".js_listitem");for(const t of o)t.addEventListener("click",_)}function p(){let e="";for(const o of l)e+=a(o);r.innerHTML=e}const M=e=>{e.preventDefault();const o=v.value.trim();u.innerHTML="<li>Loading...</li>",fetch(`https://api.jikan.moe/v4/anime?q=${encodeURIComponent(o)}`).then(t=>t.json()).then(t=>{c=t.data,f()})};h.addEventListener("click",M);function _(e){const o=e.currentTarget;o.classList.toggle("favourite");const t=parseInt(o.dataset.mal_hook),s=l.findIndex(n=>n.mal_id===t);if(s===-1){const n=c.find(d=>d.mal_id===t);l.push(n),localStorage.setItem("favouriteMovies",JSON.stringify(l));const i=a(n);r.innerHTML+=i}else{const[n]=l.splice(s,1),i=r.querySelector(`[data-mal_hook="${n.mal_id}"]`);i!==null&&i.remove()}}fetch("https://api.jikan.moe/v4/anime?q=").then(e=>e.json()).then(e=>{c=e.data,f()});const m=JSON.parse(localStorage.getItem("favouriteMovies"));m!==null&&(l=m,p());const L=e=>{e.preventDefault(),localStorage.clear(),localStorage.length===0&&(r.innerHTML="")};g.addEventListener("click",L);
//# sourceMappingURL=main.js.map
